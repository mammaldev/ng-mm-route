angular.module("mmRoute",["ngRoute"]).provider("mmRoute",["$routeProvider",function(a){function b(c){Object.keys(c).forEach(function(d){var e=c[d];e.hasOwnProperty("url")?a.when(e.url.split("?")[0],e):b(e)})}function c(a,b){if(!a.length)return b;var d=a[0];if(b.hasOwnProperty(d))return c(a.slice(1,a.length),b[d])}var d=/:[^\/]+/g,e=/[:*?]/g,f=/:[^\/]+\?/g;this.setDefaultRoute=function(b){a.otherwise({redirectTo:b})},this.setBaseRoute=function(b){a.when("/",{redirectTo:b})},this.setRoles=function(a){this.roles=a},this.setRoutes=function(a){if(!this.roles)throw new Error("No roles have been configured. Call setRoles before setRoutes");this.routes=a,this.roles.forEach(function(c){var d=a[c];d&&b(d)})},this.$get=["$location",function(a){function b(a,b,c){2===arguments.length&&"string"==typeof b&&(c=b,b=void 0);var h=g(a,c);if(h){var i=h.url,j=i.match(d);return j&&b&&Object.keys(b).forEach(function(a){j.forEach(function(c){var d=c.replace(e,""),f=c.indexOf("*")===c.length-1;f&&a.slice(0,d.length)===d?i=i.replace(c,b[a]):f||a!==d||(i=i.replace(c,b[a]))})}),i=i.replace(f,"")}}function g(a,b){var d,e=a.split(".");if(b)return c(e,i[b]);for(var f=0;f<j.length;f++)if(d=c(e,i[j[f]]))return d;return d}function h(c,d){a.url(b(c,d))}var i=this.routes,j=this.roles;return{get:b,goTo:h,getRoute:g}}]}]);
//# sourceMappingURL=mm-route.min.js.map